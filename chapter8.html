<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 8 Promotions | Fundamentals of Sports Business Analytics and Strategy</title>
<meta name="author" content="Justin Watkins">
<meta name="description" content="It can be challenging to measure the efficacy of promotions. It becomes even more difficult if we take a more expansive view of promotions and consider all advertising as some form of promotion....">
<meta name="generator" content="bookdown 0.28 with bs4_book()">
<meta property="og:title" content="Chapter 8 Promotions | Fundamentals of Sports Business Analytics and Strategy">
<meta property="og:type" content="book">
<meta property="og:url" content="https://justin-watkins.github.io/chapter8.html">
<meta property="og:image" content="https://justin-watkins.github.io/images/cover.png">
<meta property="og:description" content="It can be challenging to measure the efficacy of promotions. It becomes even more difficult if we take a more expansive view of promotions and consider all advertising as some form of promotion....">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 8 Promotions | Fundamentals of Sports Business Analytics and Strategy">
<meta name="twitter:description" content="It can be challenging to measure the efficacy of promotions. It becomes even more difficult if we take a more expansive view of promotions and consider all advertising as some form of promotion....">
<meta name="twitter:image" content="https://justin-watkins.github.io/images/cover.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><link href="libs/Prompt-0.4.4/font.css" rel="stylesheet">
<link href="libs/JetBrains_Mono-0.4.4/font.css" rel="stylesheet">
<script src="libs/bs3compat-0.4.1/transition.js"></script><script src="libs/bs3compat-0.4.1/tabs.js"></script><script src="libs/bs3compat-0.4.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Fundamentals of Sports Business Analytics and Strategy</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Abstract and forward</a></li>
<li><a class="" href="chapter1.html"><span class="header-section-number">1</span> Analytics and Strategy</a></li>
<li><a class="" href="chapter2.html"><span class="header-section-number">2</span> Code and Data</a></li>
<li><a class="" href="chapter3.html"><span class="header-section-number">3</span> Data Exploration</a></li>
<li><a class="" href="chapter4.html"><span class="header-section-number">4</span> Structuring Projects</a></li>
<li><a class="" href="chapter5.html"><span class="header-section-number">5</span> Segmentation</a></li>
<li><a class="" href="chapter6.html"><span class="header-section-number">6</span> Pricing and Forecasting</a></li>
<li><a class="" href="chapter7.html"><span class="header-section-number">7</span> Lead Scoring</a></li>
<li><a class="active" href="chapter8.html"><span class="header-section-number">8</span> Promotions</a></li>
<li><a class="" href="chapter9.html"><span class="header-section-number">9</span> Research</a></li>
<li><a class="" href="chapter10.html"><span class="header-section-number">10</span> Operations</a></li>
<li><a class="" href="Chapter11.html"><span class="header-section-number">11</span> Epilogue</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/Justin-Watkins/Justin-Watkins.github.io">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="chapter8" class="section level1" number="8">
<h1>
<span class="header-section-number">8</span> Promotions<a class="anchor" aria-label="anchor" href="#chapter8"><i class="fas fa-link"></i></a>
</h1>
<p>It can be challenging to measure the efficacy of promotions. It becomes even more difficult if we take a more expansive view of promotions and consider all advertising as some form of promotion. Some clubs have begun to eliminate many forms of promotion if they cannot measure the outcomes. While this makes sense on some level, I don’t go that far. Major Sports brands are unique in some ways because they tend to carry themselves when the team performs well. However, you can’t always be good. So how do you reconcile these issues from the standpoint of promotions? This chapter will give a specific example of measuring the impact of a promotion and cover some of the nuances of this subject.</p>
<p>Why do teams have promotions? Like all marketing techniques, promotions exist to increase sales. In sports, they are typically <em>a response to less anticipated demand than capacity</em>. However, this concept can be paradoxical. Promotions perform best when the team is performing well on the field. If you were to take a multi-year point-of-view on marketing, you would likely make different decisions than if you only look at it from a fiscal-year standpoint. There are also brand considerations.</p>
<p>Additionally, there are competing philosophies on the use of promotions. A franchise can pull only so many levers to increase the likelihood of someone purchasing a ticketing product, and the biggest one is price. It is also important to note that they typically have a cost <a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Often promotions are tied to a sponsorship deal&lt;/p&gt;"><sup>70</sup></a>, so justifying a return on the investment is generally considered an essential part of the process (assuming your goal isn’t solely on maximizing revenue).</p>
<p>Typical sales promotions focus on value: getting more products for less money. However, you see a myriad of promotions in sports:</p>
<ul>
<li>Giveaways such as bobbleheads and hats</li>
<li>Post-game concerts</li>
<li>Buy one ticket, get one free</li>
<li>Loyalty programs for season ticket holders</li>
<li>Flash sales and other dynamic pricing promotions</li>
</ul>
<p>Additionally, promotions may also have negative impacts on your brand integrity. For example, constantly reverting to price promotions can cause damage <span class="citation">(<a href="references.html#ref-Keller2003" role="doc-biblioref">Keller 2003</a>)</span>.</p>
<blockquote>
<p>“The objective of value pricing is to uncover the right blend of product quality, product cost, and product prices that fully satisfies the needs and wants of consumers and the profit targets of the firm.”</p>
</blockquote>
<p>Furthermore, many channels are notoriously difficult to evaluate. Advertisements and promotions could occur in any number of places:</p>
<ul>
<li>OOH (out of home) refers to billboards, etc.</li>
<li>Radio</li>
<li>Television</li>
<li>SEM (Search engine)</li>
<li>Online agencies (Double-Click)</li>
<li>Social Media</li>
<li>Earned media, such as television coverage</li>
<li>Podcasts</li>
<li>Foundation activities and other charitable ventures</li>
</ul>
<p>Social platforms have become an increasingly important part of advertisement. However, the platforms are walled gardens with proprietary algorithms for demonstrating ROAS. They don’t have the incentive to tell you something isn’t working. SEM is an even bigger problem and can be confounding. If I know, when you type “Game Hen Tickets” into google, it seems like it would be pretty easy to serve you an ad that can be tracked to a sale. SEM is more of a beachhead for secondary market sellers. The secondary markets, such as StubHub, tend to worry more about the volume of transactions. Since they operate across the spectrum of tickets, they are impossible to outspend.</p>
<p>Media evaluation is handled in specific ways. For example, A. I.-based methods using neural networks to measure exposure have become popular over the past several years. However, media equivalency is tough to estimate accurately and is typically propped up by some arbitrary figure. We’ll discuss evaluating advertising later in this chapter.</p>
<p>How do you know if any of your other marketing activity is worthwhile? In many cases, you don’t. Baselining sales can be complex because these activities are naturally baked into your sales. Some effects, such as what we see with salary in figure <a href="chapter8.html#fig:salarytwoaa">8.1</a>, are clearly outside a marketer’s influence.</p>
<p>The following graph was produced from public data on ticket sales and the average salary for MLB teams. The points are colored based on the population of the region.</p>
<div class="figure">
<span style="display:block;" id="fig:salarytwoaa"></span>
<img src="images/ch1_salary.png" alt="Relationship between ticket sales and salary" width="100%"><p class="caption">
Figure 8.1: Relationship between ticket sales and salary
</p>
</div>
<p>There is some level of correlation between payroll and tickets sold. However, it isn’t clear that the size of the market impacts salary or sales. However, small markets tend to cluster near the bottom of the salary range, and large markets cluster near the top. We could use a clustering algorithm on this data to see if that is true, but this is only for illustration. It also begs the question.</p>
<blockquote>
<p>If you can reasonably estimate ticket sales using macro factors such as payroll and wins, what impact do your marketing efforts have?</p>
</blockquote>
<p>This capability is a sticky point, but it is valid. You will never find a president or owner that liquidates their marketing department. Indeed they do a lot more than push tickets. The most crucial factor for many clubs is likely the investment in the team. This reliance on team payroll is more acute for baseball because of the number of games. You are more exposed to perturbations in performance when you have more events. This is where the NFL has a significant advantage in parity (along with structural components related to salary floors and caps).</p>
<p>There is also a lot of complexity in specific market conditions. Therefore, there are several questions that we can ask ourselves when focusing on ticket sales.</p>
<ul>
<li>How many single-game tickets were sold to individuals outside our database?</li>
<li>Do we recycle the same fans for promotions?</li>
<li>Are average ticket sales higher during a major promotion?</li>
<li>Is <em>the turnstile</em> higher during major promotions? How are F&amp;B sales impacted?</li>
<li>Can we identify a causal link between <em>sales/turnstile/revenue</em> during major promotions?</li>
<li>Do major promotions promote the purchase of less expensive tickets reducing yield?</li>
</ul>
<p>If there is reasonably good evidence that major promotions increase ticket sales, are the increased ticket sales an efficient use of marketing dollars? Additionally, which type of major promotion is the most efficient? We’ll walk through an example of how to evaluate major promotions and then talk about measuring other forms of media exposure. This chapter may seem repetitive. We will analyze season data but in a slightly different way. Promotions will likely have small samples, putting us in a non-parametric world. This is a scary place where your favorite analytics tools may not work as intended.</p>
<div id="measuring-the-impact-of-promotions" class="section level2" number="8.1">
<h2>
<span class="header-section-number">8.1</span> Measuring the impact of promotions<a class="anchor" aria-label="anchor" href="#measuring-the-impact-of-promotions"><i class="fas fa-link"></i></a>
</h2>
<p>Measuring the impact of promotions can be difficult. This analysis builds on analyses that we have already completed. We’ll begin with the now familiar season_data data set. This is a great spot to start evaluating promotions.</p>
<div class="sourceCode" id="cb246"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="co"># Season data structure</span></span>
<span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">FOSBAAS</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/FOSBAAS/man/season_data.html">season_data</a></span></span>
<span></span>
<span><span class="va">data_struct</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span></span>
<span>  variable <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span>,</span>
<span>  class    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">typeof</span><span class="op">)</span>,</span>
<span>  values   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="va">data</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span>,  </span>
<span>                                      collapse <span class="op">=</span> <span class="st">", "</span><span class="op">)</span><span class="op">)</span>,</span>
<span>            row.names <span class="op">=</span> <span class="cn">NULL</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:promotiondata1">Table 8.1: </span>Dataset for evaluating promotions</caption>
<thead><tr class="header">
<th align="left">variable</th>
<th align="left">class</th>
<th align="left">values</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">gameNumber</td>
<td align="left">double</td>
<td align="left">1, 2</td>
</tr>
<tr class="even">
<td align="left">team</td>
<td align="left">character</td>
<td align="left">SF, SF</td>
</tr>
<tr class="odd">
<td align="left">date</td>
<td align="left">double</td>
<td align="left">2022-03-27, 2022-03-28</td>
</tr>
<tr class="even">
<td align="left">dayOfWeek</td>
<td align="left">character</td>
<td align="left">Sun, Mon</td>
</tr>
<tr class="odd">
<td align="left">month</td>
<td align="left">character</td>
<td align="left">Mar, Mar</td>
</tr>
<tr class="even">
<td align="left">weekEnd</td>
<td align="left">logical</td>
<td align="left">FALSE, FALSE</td>
</tr>
<tr class="odd">
<td align="left">schoolInOut</td>
<td align="left">logical</td>
<td align="left">FALSE, FALSE</td>
</tr>
<tr class="even">
<td align="left">daysSinceLastGame</td>
<td align="left">double</td>
<td align="left">50, 1</td>
</tr>
<tr class="odd">
<td align="left">openingDay</td>
<td align="left">logical</td>
<td align="left">TRUE, FALSE</td>
</tr>
<tr class="even">
<td align="left">promotion</td>
<td align="left">character</td>
<td align="left">none, none</td>
</tr>
<tr class="odd">
<td align="left">ticketSales</td>
<td align="left">double</td>
<td align="left">42928, 25759</td>
</tr>
<tr class="even">
<td align="left">season</td>
<td align="left">double</td>
<td align="left">2022, 2022</td>
</tr>
</tbody>
</table></div>
<p>This data will allow us to examine the two most typical promotions a baseball team might conduct. Bobbleheads and Concerts are ubiquitous across sports. So it would lead you to believe that they are effective ticket drivers. However, there are many considerations.</p>
<div class="sourceCode" id="cb247"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="co"># Promotions by season</span></span>
<span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">count</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">x_label</span>  <span class="op">&lt;-</span> <span class="op">(</span><span class="st">'\n 2022-2024 Home Games'</span><span class="op">)</span></span>
<span><span class="va">y_label</span>  <span class="op">&lt;-</span> <span class="op">(</span><span class="st">'Tickets Sold \n'</span><span class="op">)</span></span>
<span><span class="va">title</span>   <span class="op">&lt;-</span> <span class="op">(</span><span class="st">"M-Promos tend to have higher than average sales"</span><span class="op">)</span></span>
<span><span class="va">ticket_sales</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">data</span>, </span>
<span>         <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">count</span>,y <span class="op">=</span> <span class="va">ticketSales</span>, </span>
<span>             color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">promotion</span><span class="op">)</span><span class="op">)</span>,</span>
<span>             group <span class="op">=</span> <span class="va">promotion</span><span class="op">)</span>                                  <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="va">title</span><span class="op">)</span>                                                 <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="va">x_label</span><span class="op">)</span>                                                  <span class="op">+</span>                         </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="va">y_label</span><span class="op">)</span>                                                  <span class="op">+</span>                           </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="va"><a href="https://scales.r-lib.org/reference/comma.html">comma</a></span><span class="op">)</span>                     <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">ticketSales</span>,x<span class="op">=</span><span class="va">count</span><span class="op">)</span>, size<span class="op">=</span><span class="fl">2</span><span class="op">)</span>                 <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>data<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span><span class="op">(</span></span>
<span>    <span class="va">data</span>,<span class="va">promotion</span> <span class="op">==</span> <span class="st">'bobblehead'</span> <span class="op">|</span> <span class="va">promotion</span> <span class="op">==</span> <span class="st">'concert'</span> <span class="op">|</span> </span>
<span>    <span class="va">promotion</span> <span class="op">==</span> <span class="st">'other'</span> <span class="op">|</span> <span class="va">promotion</span> <span class="op">==</span> <span class="st">'none'</span><span class="op">)</span>,</span>
<span>    method<span class="op">=</span><span class="st">'lm'</span>,formula<span class="op">=</span><span class="va">y</span><span class="op">~</span><span class="va">x</span>,se<span class="op">=</span><span class="cn">FALSE</span>,fullrange<span class="op">=</span><span class="cn">TRUE</span>,size<span class="op">=</span><span class="fl">1.2</span><span class="op">)</span>    <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fl">1</span>, lty<span class="op">=</span><span class="fl">4</span>, color<span class="op">=</span><span class="st">'grey30'</span><span class="op">)</span>              <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fl">81</span>, lty<span class="op">=</span><span class="fl">4</span>, color<span class="op">=</span><span class="st">'grey30'</span><span class="op">)</span>             <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fl">162</span>, lty<span class="op">=</span><span class="fl">4</span>, color<span class="op">=</span><span class="st">'grey30'</span><span class="op">)</span>            <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fl">243</span>, lty<span class="op">=</span><span class="fl">4</span>, color<span class="op">=</span><span class="st">'grey30'</span><span class="op">)</span>            <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span></span>
<span>    breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'bobblehead'</span>,<span class="st">'concert'</span>,<span class="st">'other'</span>,<span class="st">'none'</span><span class="op">)</span>,</span>
<span>    values<span class="op">=</span><span class="va">palette</span>, name<span class="op">=</span><span class="st">'Promotion: '</span>,</span>
<span>    labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"BHead"</span>,<span class="st">"Concert"</span>,<span class="st">"Other"</span>,<span class="st">'None'</span><span class="op">)</span><span class="op">)</span>                  <span class="op">+</span>    </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span><span class="op">(</span><span class="st">"text"</span>, x <span class="op">=</span> <span class="fl">40</span>,  y <span class="op">=</span> <span class="fl">1000</span>, </span>
<span>           label <span class="op">=</span> <span class="st">"2022"</span>, color<span class="op">=</span><span class="st">'black'</span><span class="op">)</span>                        <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span><span class="op">(</span><span class="st">"text"</span>, x <span class="op">=</span> <span class="fl">120</span>, y <span class="op">=</span> <span class="fl">1000</span>, </span>
<span>           label <span class="op">=</span> <span class="st">"2023"</span>, color<span class="op">=</span><span class="st">'black'</span><span class="op">)</span>                        <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span><span class="op">(</span><span class="st">"text"</span>, x <span class="op">=</span> <span class="fl">200</span>, y <span class="op">=</span> <span class="fl">1000</span>, </span>
<span>           label <span class="op">=</span> <span class="st">"2024"</span>, color<span class="op">=</span><span class="st">'black'</span><span class="op">)</span>                        <span class="op">+</span></span>
<span>  <span class="va">graphics_theme_1</span>                                               <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span></span>
<span>    axis.text.x      <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    legend.position  <span class="op">=</span> <span class="st">"bottom"</span>,</span>
<span>    panel.grid.major <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,  </span>
<span>    panel.grid.minor <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>, </span>
<span>    axis.ticks.x<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:promotiongraphaabb"></span>
<img src="images/ch8_promos_season.png" alt="Ticket sales by season" width="100%"><p class="caption">
Figure 8.2: Ticket sales by season
</p>
</div>
<p>Let’s take a little closer look at this data. There are vast differences between many games. We saw in chapter <a href="chapter6.html#chapter6">6</a> that a few variables could be used to predict sales. This is the type of graphic that can be misleading. If you took sales averages, promotions would appear to increase ticket sales. However, our product could be more consistent. The wide variation in sales contains seasonality, trends, and other endogenous factors influencing turnout.</p>
<div class="sourceCode" id="cb248"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="co"># Promotions by day of the week</span></span>
<span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="va">x_label</span>  <span class="op">&lt;-</span> <span class="op">(</span><span class="st">'\n Promotion'</span><span class="op">)</span></span>
<span><span class="va">y_label</span>  <span class="op">&lt;-</span> <span class="op">(</span><span class="st">'Day of Week\n'</span><span class="op">)</span></span>
<span><span class="va">title</span>    <span class="op">&lt;-</span> </span>
<span>  <span class="op">(</span><span class="st">'Average Sales (10,000s) by promotion and day of week \n'</span><span class="op">)</span></span>
<span></span>
<span><span class="va">promos</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">data</span>                                         <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">dayOfWeek</span>,<span class="va">promotion</span>,<span class="va">season</span><span class="op">)</span>         <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>avgTickets <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">ticketSales</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">tile_sales</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">promos</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">dayOfWeek</span>,x<span class="op">=</span><span class="va">promotion</span><span class="op">)</span><span class="op">)</span>                   <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html">facet_grid</a></span><span class="op">(</span><span class="va">.</span><span class="op">~</span><span class="va">season</span><span class="op">)</span>                                           <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_tile.html">geom_tile</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">avgTickets</span><span class="op">)</span><span class="op">)</span>                              <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="op">(</span><span class="va">avgTickets</span><span class="op">/</span><span class="fl">10000</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                color<span class="op">=</span><span class="st">'grey10'</span><span class="op">)</span>                                  <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_fill_gradient</a></span><span class="op">(</span>low <span class="op">=</span> <span class="st">"white"</span>, high <span class="op">=</span> <span class="st">"dodgerblue"</span>, </span>
<span>                      space <span class="op">=</span> <span class="st">"Lab"</span>,</span>
<span>                      na.value <span class="op">=</span> <span class="st">"grey10"</span>, guide <span class="op">=</span> <span class="st">"colourbar"</span><span class="op">)</span>  <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="va">title</span><span class="op">)</span>                                                 <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="va">x_label</span><span class="op">)</span>                                                  <span class="op">+</span>                       </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="va">y_label</span><span class="op">)</span>                                                  <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html">scale_y_discrete</a></span><span class="op">(</span>limits<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Mon'</span>,<span class="st">'Tue'</span>,<span class="st">'Wed'</span>,<span class="st">'Thu'</span>,</span>
<span>                            <span class="st">'Fri'</span>,<span class="st">'Sat'</span>,<span class="st">'Sun'</span><span class="op">)</span><span class="op">)</span>                  <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html">scale_x_discrete</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'bobblehead'</span>,<span class="st">'concert'</span>,</span>
<span>                              <span class="st">'none'</span>,<span class="st">'other'</span><span class="op">)</span>,</span>
<span>                   labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'bh'</span>,<span class="st">'concert'</span>,<span class="st">'none'</span>,<span class="st">'other'</span><span class="op">)</span><span class="op">)</span>      <span class="op">+</span></span>
<span>  <span class="va">graphics_theme_1</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span></span>
<span>    legend.position  <span class="op">=</span> <span class="st">"bottom"</span>,</span>
<span>    axis.text.x      <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">0</span>, size <span class="op">=</span> <span class="fl">10</span>, </span>
<span>                                    vjust <span class="op">=</span> <span class="fl">0</span>, color <span class="op">=</span> <span class="st">"grey10"</span><span class="op">)</span>,</span>
<span>    legend.title     <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">10</span>, face <span class="op">=</span> <span class="st">"plain"</span>, </span>
<span>                                    color <span class="op">=</span> <span class="st">"grey10"</span><span class="op">)</span>, </span>
<span>    legend.text      <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">7</span>, color <span class="op">=</span> <span class="st">"grey10"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
<p>This code chunk produces the tile plot in figure <a href="chapter8.html#fig:promotiongraphb">8.3</a>. We can see that concerts occur on the weekend. The same is true for Bobbleheads. How can we control for this to determine if they are impacting sales? We’ll look at this data in a few different ways for clarity. It is often helpful to experiment with graphics. The same data may tell other stories.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:promotiongraphb"></span>
<img src="images/ch8_ticket_sales_tile.png" alt="Ticket sales by season and day of week" width="100%"><p class="caption">
Figure 8.3: Ticket sales by season and day of week
</p>
</div>
<p>Let’s take a brief aside and talk about color interpolation. There are several ways to interpolate colors in R. In addition, the virids library <span class="citation">(<a href="references.html#ref-R-viridis" role="doc-biblioref">Garnier 2021</a>)</span> is an exciting color package that produces very vivid results if used in the correct context. Give them a try.</p>
<div class="sourceCode" id="cb249"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="co"># Color interpolation</span></span>
<span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://sjmgarnier.github.io/viridis/">viridis</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://sjmgarnier.github.io/viridis/reference/scale_viridis.html">scale_fill_viridis</a></span><span class="op">(</span>direction <span class="op">=</span> <span class="fl">1</span>, option <span class="op">=</span> <span class="st">"B"</span>,trans<span class="op">=</span><span class="st">"log2"</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_fill_distiller</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">'Greens'</span>,direction <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p>There does appear to be some difference between the days of the week. So let’s look at them in a slightly different way.</p>
<div class="sourceCode" id="cb250"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="co"># Promotions by season and day of week</span></span>
<span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">count</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">x_label</span>  <span class="op">&lt;-</span> <span class="op">(</span><span class="st">'\n 2022-2024 Home Games'</span><span class="op">)</span></span>
<span><span class="va">y_label</span>  <span class="op">&lt;-</span> <span class="op">(</span><span class="st">'Tickets Sold \n '</span><span class="op">)</span></span>
<span><span class="va">title</span>    <span class="op">&lt;-</span> <span class="op">(</span><span class="st">"Impacts are less clear when DOW is considered"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">dow_sales</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">count</span>,y <span class="op">=</span> <span class="va">ticketSales</span>, </span>
<span>                   color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">dayOfWeek</span><span class="op">)</span>,</span>
<span>                   shape <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">promotion</span><span class="op">)</span>,</span>
<span>                   group <span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">dayOfWeek</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>                <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="va">title</span><span class="op">)</span>                                             <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="va">x_label</span><span class="op">)</span>                                              <span class="op">+</span>                            </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="va">y_label</span><span class="op">)</span>                                              <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span> breaks <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">242</span><span class="op">)</span>                        <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>labels  <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="va"><a href="https://scales.r-lib.org/reference/comma.html">comma</a></span><span class="op">)</span>                <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">data</span><span class="op">$</span><span class="va">ticketSales</span>,x<span class="op">=</span><span class="va">data</span><span class="op">$</span><span class="va">count</span><span class="op">)</span>, size<span class="op">=</span><span class="fl">3.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fl">81</span>,  lty <span class="op">=</span> <span class="fl">4</span>,  color <span class="op">=</span><span class="st">'grey30'</span><span class="op">)</span>    <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fl">162</span>, lty <span class="op">=</span> <span class="fl">4</span>, color <span class="op">=</span><span class="st">'grey30'</span><span class="op">)</span>     <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fl">242</span>, lty <span class="op">=</span> <span class="fl">4</span>, color <span class="op">=</span><span class="st">'grey30'</span><span class="op">)</span>     <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Mon"</span>, <span class="st">"Tue"</span>,<span class="st">'Wed'</span>,<span class="st">'Thu'</span>,</span>
<span>                                <span class="st">'Fri'</span>,<span class="st">'Sat'</span>,<span class="st">'Sun'</span><span class="op">)</span>,</span>
<span>                     values <span class="op">=</span> <span class="va">palette</span>,</span>
<span>                     name   <span class="op">=</span><span class="st">'Day: '</span>,</span>
<span>                     labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Mon"</span>, <span class="st">"Tue"</span>,<span class="st">'Wed'</span>,<span class="st">'Thu'</span>,</span>
<span>                              <span class="st">'Fri'</span>,<span class="st">'Sat'</span>,<span class="st">'Sun'</span><span class="op">)</span><span class="op">)</span>            <span class="op">+</span>   </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_shape_manual</a></span><span class="op">(</span></span>
<span>    breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'bobblehead'</span>,<span class="st">'none'</span>,<span class="st">'concert'</span>,<span class="st">'other'</span><span class="op">)</span>,</span>
<span>    name<span class="op">=</span><span class="st">'Promotion: '</span>,</span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">17</span>,<span class="fl">19</span>,<span class="fl">3</span>,<span class="fl">7</span><span class="op">)</span>,</span>
<span>    labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"bh"</span>,<span class="st">'none'</span>,<span class="st">'con'</span>,<span class="st">'other'</span><span class="op">)</span><span class="op">)</span>                     <span class="op">+</span>   </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span><span class="op">(</span><span class="st">"text"</span>, x <span class="op">=</span> <span class="fl">40</span>,  y <span class="op">=</span> <span class="fl">1000</span>, </span>
<span>           label <span class="op">=</span> <span class="st">"2022"</span>, color<span class="op">=</span><span class="st">'grey10'</span><span class="op">)</span>                   <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span><span class="op">(</span><span class="st">"text"</span>, x <span class="op">=</span> <span class="fl">120</span>, y <span class="op">=</span> <span class="fl">1000</span>, </span>
<span>           label <span class="op">=</span> <span class="st">"2023"</span>, color<span class="op">=</span><span class="st">'grey10'</span><span class="op">)</span>                   <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span><span class="op">(</span><span class="st">"text"</span>, x <span class="op">=</span> <span class="fl">200</span>, y <span class="op">=</span> <span class="fl">1000</span>, </span>
<span>           label <span class="op">=</span> <span class="st">"2024"</span>, color<span class="op">=</span><span class="st">'grey10'</span><span class="op">)</span>                   <span class="op">+</span></span>
<span>  <span class="va">graphics_theme_1</span>                                           <span class="op">+</span>   </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span></span>
<span>    axis.text.x      <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    legend.position  <span class="op">=</span> <span class="st">"right"</span>,</span>
<span>    panel.grid.major <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,  </span>
<span>    panel.grid.minor <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>, </span>
<span>    axis.ticks.x     <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>We see a predictable pattern here that we could have assumed from the previous plot. But unfortunately, our analysis is confounded by many factors, and we can’t take sales at face value.</p>
<div class="figure">
<span style="display:block;" id="fig:promotiongraph3"></span>
<img src="images/ch8_ticket_sales_dow.png" alt="Ticket sales by season" width="100%"><p class="caption">
Figure 8.4: Ticket sales by season
</p>
</div>
<div class="sourceCode" id="cb251"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="co"># Box plot, sales by day of week</span></span>
<span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="va">x_label</span>  <span class="op">&lt;-</span> <span class="op">(</span><span class="st">'\n 2022-2024 games by DOW'</span><span class="op">)</span></span>
<span><span class="va">y_label</span>  <span class="op">&lt;-</span> <span class="op">(</span><span class="st">'Tickets Sold \n '</span><span class="op">)</span></span>
<span><span class="va">title</span>    <span class="op">&lt;-</span> <span class="op">(</span><span class="st">"Sales by DOW and promotion"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">dow_sales_box</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x     <span class="op">=</span> <span class="va">dayOfWeek</span>, </span>
<span>                   fill  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">promotion</span><span class="op">)</span>, </span>
<span>                   color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">promotion</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>               <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="va">title</span><span class="op">)</span>                                             <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="va">x_label</span><span class="op">)</span>                                              <span class="op">+</span>                               </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="va">y_label</span><span class="op">)</span>                                              <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="va"><a href="https://scales.r-lib.org/reference/comma.html">comma</a></span><span class="op">)</span>                 <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html">scale_x_discrete</a></span><span class="op">(</span>limits<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Mon"</span>, <span class="st">"Tue"</span>,<span class="st">'Wed'</span>,<span class="st">'Thu'</span>,</span>
<span>                            <span class="st">'Fri'</span>,<span class="st">'Sat'</span>,<span class="st">'Sun'</span><span class="op">)</span><span class="op">)</span>              <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">ticketSales</span><span class="op">)</span><span class="op">)</span>                           <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span></span>
<span>    breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'bobblehead'</span>,<span class="st">'concert'</span>,<span class="st">'none'</span>,<span class="st">'other'</span><span class="op">)</span>,</span>
<span>    values<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'grey40'</span>,<span class="st">'grey40'</span>,<span class="st">'grey40'</span>,<span class="st">'grey40'</span><span class="op">)</span>, </span>
<span>    name<span class="op">=</span><span class="st">'Concert: '</span>,</span>
<span>    labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'bobblehead'</span>,<span class="st">'concert'</span>,<span class="st">'none'</span>,<span class="st">'other'</span><span class="op">)</span>,</span>
<span>    guide <span class="op">=</span> <span class="st">'none'</span><span class="op">)</span>                                          <span class="op">+</span>    </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span></span>
<span>    breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'bobblehead'</span>,<span class="st">'concert'</span>,<span class="st">'none'</span>,<span class="st">'other'</span><span class="op">)</span>,</span>
<span>    values<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">palette</span><span class="op">)</span>, </span>
<span>    name<span class="op">=</span><span class="st">'Promotion: '</span>,</span>
<span>    labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'bobblehead'</span>,<span class="st">'concert'</span>,<span class="st">'none'</span>,<span class="st">'other'</span><span class="op">)</span><span class="op">)</span>         <span class="op">+</span></span>
<span>  <span class="va">graphics_theme_1</span>                                           <span class="op">+</span>   </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position  <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span></span></code></pre></div>
<p>This plot does an excellent job of discriminating between promotions. Concerts, bobbleheads, and other promotions generate more sales on average when the day of the week is considered. Could some other factor, such as the opponent, be having an impact here?</p>
<div class="figure">
<span style="display:block;" id="fig:promotiongraph4"></span>
<img src="images/ch8_ticket_sales_dow_box.png" alt="Ticket sales by season" width="100%"><p class="caption">
Figure 8.5: Ticket sales by season
</p>
</div>
<div id="regressing-on-our-data" class="section level3" number="8.1.1">
<h3>
<span class="header-section-number">8.1.1</span> Regressing on our data<a class="anchor" aria-label="anchor" href="#regressing-on-our-data"><i class="fas fa-link"></i></a>
</h3>
<p>As we have seen, regression takes some rigor to do correctly. It works best when you have a lot of data, which is a luxury we tend to have in only a few cases. We’ll go through another example, but we will look at our analysis slightly differently. We’ll also use a different framework this time. Why? Why not? There are many ways to do the same thing in R, and you will prefer some more than others.</p>
<p>We’ll use the <code>tidymodels</code> <span class="citation">(<a href="references.html#ref-R-tidymodels" role="doc-biblioref">Kuhn and Wickham 2022</a>)</span> package for this exercise <a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;&lt;a href="https://www.tidymodels.org/" class="uri"&gt;https://www.tidymodels.org/&lt;/a&gt;&lt;/p&gt;'><sup>71</sup></a>. <code>Tidymodels</code> (like MLR3) will simplify the preprocessing and evaluation. We’ll begin by installing our libraries and doing a little processing on the data.</p>
<div class="sourceCode" id="cb252"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="co"># preprocessing our data</span></span>
<span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidymodels.tidymodels.org">tidymodels</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org">readr</a></span><span class="op">)</span>      </span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/bbolker/broom.mixed">broom.mixed</a></span><span class="op">)</span> </span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">dotwhisker</span><span class="op">)</span>  </span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/skimr/">skimr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">FOSBAAS</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/FOSBAAS/man/season_data.html">season_data</a></span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"gameNumber"</span>,<span class="st">"team"</span>,<span class="st">"month"</span>,<span class="st">"weekEnd"</span>,</span>
<span>                <span class="st">"daysSinceLastGame"</span>,<span class="st">"promotion"</span>,<span class="st">"ticketSales"</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<p>Again, We are going to build a linear regression model. We also know that we are interested in how much promotions influence ticket sales. We’ll make one change to this data set with the function <code>f_change_order()</code> to make our results easier to interpret when we complete this exercise. This has to do with regression diagnostics output.</p>
<div class="sourceCode" id="cb253"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="co"># Alter promotions </span></span>
<span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="va">f_change_order</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="kw">if</span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"none"</span><span class="op">)</span><span class="op">{</span><span class="st">"anone"</span><span class="op">}</span></span>
<span>  <span class="kw">else</span><span class="op">{</span><span class="va">x</span><span class="op">}</span></span>
<span><span class="op">}</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">promotion</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">promotion</span>,<span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> </span>
<span>                         <span class="fu">f_change_order</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>This is a sloppy approach to the issue we are trying to solve, but you’ll often resort to doing strange things while working with data. You’ll see what I mean in the following sections. If you want to reorder factor levels for a graph, you can do it with the <code>factor</code> function.</p>
<div class="sourceCode" id="cb254"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="co"># Alter factor levels </span></span>
<span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">promotion</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">promotion</span>, </span>
<span>         levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'none'</span>, <span class="st">'bobblehead'</span>, <span class="st">'concert'</span>, <span class="st">'other'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>We’ll use the <code>rsample</code> library <span class="citation">(<a href="references.html#ref-R-rsample" role="doc-biblioref">Silge et al. 2022</a>)</span> to build our training and test set. There are many ways to partition data, and we have used a different one every time. Find one that you like. We’ll split the data with twenty-five percent going to our holdout sample. Be aware that if you try to use your model to predict sales and a value in the new data, the model won’t work. This can be frustrating. We were making you aware. It will happen.</p>
<div class="sourceCode" id="cb255"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="co"># Splitting our data set</span></span>
<span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">755</span><span class="op">)</span></span>
<span><span class="va">data_split</span> <span class="op">&lt;-</span> <span class="fu">initial_split</span><span class="op">(</span><span class="va">data</span>, prop <span class="op">=</span> <span class="fl">.75</span><span class="op">)</span></span>
<span><span class="va">train_data</span> <span class="op">&lt;-</span> <span class="fu">rsample</span><span class="fu">::</span><span class="fu"><a href="https://rsample.tidymodels.org/reference/initial_split.html">training</a></span><span class="op">(</span><span class="va">data_split</span><span class="op">)</span></span>
<span><span class="va">test_data</span>  <span class="op">&lt;-</span> <span class="fu">rsample</span><span class="fu">::</span><span class="fu"><a href="https://rsample.tidymodels.org/reference/initial_split.html">testing</a></span><span class="op">(</span><span class="va">data_split</span><span class="op">)</span></span></code></pre></div>
<p><code>Tidymodels</code> leverages tidy principles and builds <em>recipes</em> up in layers. This is easier to work with than other frameworks. Pipes are just easier to read and understand. However, programmers might find the procedural nature of them irritating.</p>
<div class="sourceCode" id="cb256"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="co"># Build a recipe</span></span>
<span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="va">sales_rec</span> <span class="op">&lt;-</span>  <span class="fu">recipe</span><span class="op">(</span><span class="va">ticketSales</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">train_data</span><span class="op">)</span></span></code></pre></div>
<p>Piping in steps like dummy coding the variables is easy in this system. It makes preprocessing the data a mechanical exercise.</p>
<div class="sourceCode" id="cb257"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="co"># Add functions to the recipe</span></span>
<span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="va">sales_rec</span> <span class="op">&lt;-</span> <span class="fu">recipe</span><span class="op">(</span><span class="va">ticketSales</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">train_data</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>             <span class="fu">update_role</span><span class="op">(</span><span class="va">gameNumber</span>, new_role <span class="op">=</span> <span class="st">"ID"</span><span class="op">)</span>   <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>             <span class="fu">step_dummy</span><span class="op">(</span><span class="fu">all_nominal</span><span class="op">(</span><span class="op">)</span>, <span class="op">-</span><span class="fu">all_outcomes</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>             <span class="fu">step_zv</span><span class="op">(</span><span class="fu">all_predictors</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>You can check your recipe with a couple of commands.</p>
<div class="sourceCode" id="cb258"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="co"># Check the recipe </span></span>
<span><span class="co">#-----------------------------------------------------------------</span></span>
<span></span>
<span><span class="va">data_test</span> <span class="op">&lt;-</span> <span class="va">sales_rec</span>                 <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>             <span class="fu">prep</span><span class="op">(</span><span class="op">)</span>                    <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>             <span class="fu">bake</span><span class="op">(</span>new_data <span class="op">=</span> <span class="va">test_data</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">data_test</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span><span class="op">:</span><span class="fl">9</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt; # A tibble: 6 × 6</span></span>
<span><span class="co">#&gt;   ticketSales team_ATL team_BAL team_BOS team_CHC team_CIN</span></span>
<span><span class="co">#&gt;         &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1       25759        0        0        0        0        0</span></span>
<span><span class="co">#&gt; 2       26464        0        1        0        0        0</span></span>
<span><span class="co">#&gt; 3       29787        0        1        0        0        0</span></span>
<span><span class="co">#&gt; 4       35277        0        0        0        1        0</span></span>
<span><span class="co">#&gt; 5       40594        0        0        0        1        0</span></span>
<span><span class="co">#&gt; 6       32073        0        0        0        1        0</span></span></code></pre></div>
<p>We will select linear regression as the model to deploy.</p>
<div class="sourceCode" id="cb259"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="co"># Define a model</span></span>
<span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="va">lm_model</span> <span class="op">&lt;-</span> <span class="fu">linear_reg</span><span class="op">(</span><span class="op">)</span>           <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>            <span class="fu">set_engine</span><span class="op">(</span><span class="st">'lm'</span><span class="op">)</span>       <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>            <span class="fu">set_mode</span><span class="op">(</span><span class="st">'regression'</span><span class="op">)</span></span></code></pre></div>
<p>Tidymodels uses the concept of workflows to process the regression steps.</p>
<div class="sourceCode" id="cb260"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="co"># build a workflow</span></span>
<span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="va">sales_wflow</span> <span class="op">&lt;-</span> <span class="fu">workflow</span><span class="op">(</span><span class="op">)</span>           <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>               <span class="fu">add_model</span><span class="op">(</span><span class="va">lm_model</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>               <span class="fu">add_recipe</span><span class="op">(</span><span class="va">sales_rec</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb261"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="co"># build a workflow</span></span>
<span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">755</span><span class="op">)</span></span>
<span><span class="va">folds</span>        <span class="op">&lt;-</span> <span class="fu">vfold_cv</span><span class="op">(</span><span class="va">train_data</span>, v <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">sales_fit_rs</span> <span class="op">&lt;-</span> <span class="va">sales_wflow</span>          <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>                <span class="fu">fit_resamples</span><span class="op">(</span><span class="va">folds</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cv_metrics</span> <span class="op">&lt;-</span> <span class="fu">collect_metrics</span><span class="op">(</span><span class="va">sales_fit_rs</span><span class="op">)</span></span></code></pre></div>
<p>Finally, we’ll apply the workflow and fit the model to the training data set.</p>
<div class="sourceCode" id="cb262"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="co"># Run the model and extract the results</span></span>
<span><span class="co">#-----------------------------------------------------------------</span></span>
<span></span>
<span><span class="va">sales_fit</span> <span class="op">&lt;-</span> <span class="va">sales_wflow</span>            <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>             <span class="fu">fit</span><span class="op">(</span>data <span class="op">=</span> <span class="va">train_data</span><span class="op">)</span></span>
<span></span>
<span><span class="va">results</span>   <span class="op">&lt;-</span> <span class="va">sales_fit</span>             <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>             <span class="fu">extract_fit_parsnip</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>             <span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html">tidy</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>You can also extract the model.</p>
<div class="sourceCode" id="cb263"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="co"># build a workflow</span></span>
<span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="va">model</span>         <span class="op">&lt;-</span> <span class="fu">extract_fit_engine</span><span class="op">(</span><span class="va">sales_fit</span><span class="op">)</span></span>
<span><span class="va">model_metrics</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://generics.r-lib.org/reference/glance.html">glance</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span></code></pre></div>
<p>We know that we have sample size issues with this data. Can we trust these coefficients?</p>
<p>We can use the coefficients in this model to help us explain specific promotions’ impact relative to other variables. For example, a bobblehead is worth about 4,062 ticket sales.</p>
<p>However, this is only part of the story. Concerts, bobbleheads, and other promotions have different costs. For a concert, costs could be very high. You have a lot to consider:</p>
<ul>
<li>Talent fees</li>
<li>Production fees</li>
<li>Replacing damaged turf</li>
<li>Lighting</li>
</ul>
<p>This list is far from exhausting, but the electric bill at a stadium may shock you. A promotion such as a bobblehead has a much more discrete cost. You have a per-unit fee and incur the costs of storing and dispensing the item. This makes the calculus reasonably simple if you only consider the dimension of ticket sales. Concerts may increase other ancillary purchases, such as food and beverage. Additionally, the excess tickets sold for a bobblehead may be the least expensive seats in the stadium. Which one will net the most revenue?</p>
</div>
</div>
<div id="how-to-place-promotions-on-a-schedule" class="section level2" number="8.2">
<h2>
<span class="header-section-number">8.2</span> How to place promotions on a schedule<a class="anchor" aria-label="anchor" href="#how-to-place-promotions-on-a-schedule"><i class="fas fa-link"></i></a>
</h2>
<p>We covered a top-down approach to forecasting in chapter <a href="chapter6.html#chapter6">6</a>. How do you know which dates to select for a particular promotion? The calculus typically revolves around two considerations:</p>
<ul>
<li>Maximizing ticket impact</li>
<li>Maximizing revenue impact</li>
</ul>
<p>How do you know if you are making these takeoffs? Specific scenarios may make the correct decision unclear. Let’s look at our example from chapter <a href="chapter6.html#chapter6">6</a>. Now that we have confirmed that bobbleheads and concerts increase ticket sales let’s add another bobblehead. Where should we add this promotion? The event scores we produced for the <code>season_2025</code> data set may give us some clues. There are also many qualitative considerations that we will discuss.</p>
<p>Let’s start by visualizing our data. Where do the boundaries exist between event scores? We clustered this data earlier and will use these clusters to identify candidates for a promotion.</p>
<div class="sourceCode" id="cb264"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="co"># Clustered events</span></span>
<span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="va">season_2025</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">'files/season_2025.csv'</span><span class="op">)</span></span>
<span></span>
<span><span class="va">season_2025</span><span class="op">$</span><span class="va">cluster</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">season_2025</span><span class="op">$</span><span class="va">cluster</span><span class="op">)</span></span>
<span><span class="va">x_label</span>  <span class="op">&lt;-</span> <span class="op">(</span><span class="st">'\n Game'</span><span class="op">)</span></span>
<span><span class="va">y_label</span>  <span class="op">&lt;-</span> <span class="op">(</span><span class="st">'Event Scores \n'</span><span class="op">)</span></span>
<span><span class="va">title</span>   <span class="op">&lt;-</span> <span class="op">(</span><span class="st">'Event score clusters by event'</span><span class="op">)</span></span>
<span><span class="va">es_box</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">season_2025</span>, </span>
<span>                  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">order</span>,</span>
<span>                      y <span class="op">=</span> <span class="va">eventScore</span>,</span>
<span>                      color <span class="op">=</span> <span class="va">cluster</span><span class="op">)</span><span class="op">)</span>             <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">1</span>,alpha <span class="op">=</span> <span class="fl">.5</span><span class="op">)</span>                   <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span>                                    <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="va">palette</span><span class="op">)</span>              <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>label <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="va"><a href="https://scales.r-lib.org/reference/comma.html">comma</a></span><span class="op">)</span>         <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="va">x_label</span><span class="op">)</span>                                     <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="va">y_label</span><span class="op">)</span>                                     <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="va">title</span><span class="op">)</span>                                    <span class="op">+</span></span>
<span>  <span class="va">graphics_theme_1</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:promotiondatabox"></span>
<img src="images/ch8_event_box.png" alt="Event attractivness range by cluster" width="100%"><p class="caption">
Figure 8.6: Event attractivness range by cluster
</p>
</div>
<p>If our goal is to maximize ticket sales, we should plan something other than these promotions on games where there is a possibility that the game will sell out. If a sellout is within the confidence interval for a sellout, it should be disqualified from consideration. Let’s take a look at some candidate dates. We’ll assume that we want to maximize sales. We decided to go this route because the ancillary revenue associated with concessions and retail will compensate for the ticket premium we are forgoing. However, we are also looking for games with more potential in terms of higher prices. Let’s start by identifying the borders of our clusters. An easy way to do this is to use the <code>duplicated</code> function. Then, we’ll reverse the output so that it makes more sense for our header.</p>
<div class="sourceCode" id="cb265"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="co"># Identify game breaks</span></span>
<span><span class="co">#-----------------------------------------------------------------</span></span>
<span></span>
<span><span class="va">season_2025</span><span class="op">$</span><span class="va">border</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html">duplicated</a></span><span class="op">(</span><span class="va">season_2025</span><span class="op">$</span><span class="va">cluster</span><span class="op">)</span> <span class="op">==</span> <span class="cn">TRUE</span>,<span class="cn">FALSE</span>,<span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Look at a scatter plot of predicted prices vs. ticket sales. We know that there is some interaction between sales and prices. We also know how much a promotion such as a bobblehead may impact sales. We’ll use the upper bound of the confidence interval to give us an idea of games that might not be the best candidates for the bobblehead. For example, if we select one of the games in the band, we may miss out on the opportunity to sell more tickets because we exceed capacity. On the other hand, one of these games might be more attractive if we want to maximize revenue because the price premium overwhelms the capacity constraint.</p>
<p>We could get a lot fancier here with our confidence interval and estimates, but this analysis doesn’t warrant it. Simple is often good.</p>
<div class="sourceCode" id="cb266"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="co"># Identify candidate games</span></span>
<span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="va">season_2025</span><span class="op">$</span><span class="va">cluster</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">season_2025</span><span class="op">$</span><span class="va">cluster</span><span class="op">)</span></span>
<span><span class="va">x_label</span>  <span class="op">&lt;-</span> <span class="op">(</span><span class="st">'\n Pred Sales'</span><span class="op">)</span></span>
<span><span class="va">y_label</span>  <span class="op">&lt;-</span> <span class="op">(</span><span class="st">'Pred Price \n'</span><span class="op">)</span></span>
<span><span class="va">title</span>   <span class="op">&lt;-</span> <span class="op">(</span><span class="st">'Predicted sales and price by cluster'</span><span class="op">)</span></span>
<span><span class="va">es_scatter</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data      <span class="op">=</span> <span class="va">season_2025</span>, </span>
<span>                  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x     <span class="op">=</span> <span class="va">predTickets</span>,</span>
<span>                      y     <span class="op">=</span> <span class="va">predPrices</span>,</span>
<span>                      color <span class="op">=</span> <span class="va">cluster</span>,</span>
<span>                      shape <span class="op">=</span> <span class="va">border</span><span class="op">)</span><span class="op">)</span>                      <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span><span class="op">(</span><span class="st">"rect"</span>, xmin <span class="op">=</span> <span class="fl">45000</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/stats/confint.html">confint</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span><span class="op">[</span><span class="fl">36</span>,<span class="fl">2</span><span class="op">]</span>, </span>
<span>                   xmax <span class="op">=</span> <span class="fl">45000</span>, </span>
<span>                   ymin <span class="op">=</span> <span class="fl">0</span>,  ymax <span class="op">=</span> <span class="fl">60</span>,</span>
<span>                   alpha <span class="op">=</span> <span class="fl">.4</span>, fill <span class="op">=</span> <span class="st">'coral'</span><span class="op">)</span>              <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">3</span>,alpha <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>                            <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_segment.html">geom_segment</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">39000</span>, y <span class="op">=</span> <span class="fl">50</span>, </span>
<span>                   xend <span class="op">=</span> <span class="fl">37500</span>, yend <span class="op">=</span> <span class="fl">41</span><span class="op">)</span>,</span>
<span>                   arrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grid/arrow.html">arrow</a></span><span class="op">(</span>length <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="st">"cm"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                   color <span class="op">=</span> <span class="st">'black'</span><span class="op">)</span>                         <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="va">palette</span><span class="op">)</span>                      <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>label <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="va"><a href="https://scales.r-lib.org/reference/comma.html">comma</a></span><span class="op">)</span>                 <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>label <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="va"><a href="https://scales.r-lib.org/reference/dollar_format.html">dollar</a></span><span class="op">)</span>                <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="va">x_label</span><span class="op">)</span>                                             <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="va">y_label</span><span class="op">)</span>                                             <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="va">title</span><span class="op">)</span>                                            <span class="op">+</span></span>
<span>  <span class="va">graphics_theme_1</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:promotiondatascatter"></span>
<img src="images/ch8_event_scatter.png" alt="Predicted sales and prices by cluster" width="100%"><p class="caption">
Figure 8.7: Predicted sales and prices by cluster
</p>
</div>
<p>We can see which games are the best candidates. Let’s look at the border games for clusters 2 and 5. Then, let’s look at our candidate game to see if it is appropriate for adding a promotion.</p>
<div class="sourceCode" id="cb267"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="co"># Get Confidence Intervals</span></span>
<span><span class="co">#-----------------------------------------------------------------</span></span>
<span><span class="va">candidate</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span><span class="op">(</span><span class="va">season_2025</span>, </span>
<span>                    <span class="va">season_2025</span><span class="op">$</span><span class="va">border</span> <span class="op">==</span> <span class="cn">T</span> <span class="op">&amp;</span> <span class="va">cluster</span> <span class="op">==</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:promotioncandidate">Table 8.2: </span>Promotion candidate</caption>
<thead><tr class="header">
<th align="left"></th>
<th align="left">team</th>
<th align="left">date</th>
<th align="left">dayOfWeek</th>
<th align="left">month</th>
<th align="left">predTickets</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">59</td>
<td align="left">BAL</td>
<td align="left">2025-05-13</td>
<td align="left">Tue</td>
<td align="left">May</td>
<td align="left">33705.15</td>
</tr></tbody>
</table></div>
<p>This game is in late summer and already commands a high price. There isn’t another major promotion on this night, and there is plenty of headroom on sales. This game looks like a great night to add a promotion. However, there are other considerations.</p>
<p>Promotions often have sponsors, and they may have a preference for when their specific promotion takes place. You also need to consider the promotional item. For example, a bobblehead may need six months of lead time. This analysis needs to take place well in advance so that it can be produced and adequately messaged. Additionally, the theme of the item may not be appropriate for other promotions occurring simultaneously. Finally, it would be best to consider what is happening in the region. Do you have competition from another venue or event on that night?</p>
</div>
<div id="evaluating-external-and-internal-marketing-assets" class="section level2" number="8.3">
<h2>
<span class="header-section-number">8.3</span> Evaluating external and internal marketing assets<a class="anchor" aria-label="anchor" href="#evaluating-external-and-internal-marketing-assets"><i class="fas fa-link"></i></a>
</h2>
<p>This is not a marketing textbook, but to cover the major analytics categories for a sports team, I had to cover marketing. We have also covered several subjects that are directly related to marketing, such as segmentation and pricing. However, we are discussing something different here. Although measuring media assets is a big business, the phrase “It’s Turtles all the way down” comes to mind. When you get to the bottom, some arbitrary figure is likely being used to gauge the value of signage or a social media post. This is also where we can briefly talk about internal marketing assets. A pro sports team might sell some tickets, media, and merchandise, but it is also a marketing platform. We’ll discuss them both in this section.</p>
<p>Honestly, this sort of <em>analytics</em> is slightly dull. You aren’t dealing with concrete truths. A marketing asset is worth what someone is willing to pay for it. Ultimately, the worth tends to be gauged in one of two ways; How many people can be exposed and the quality of that exposure. The more eyes that are on your platform, the better. If you are also good at putting advertisements in front of the most relevant audiences, you become Google.</p>
<p>Advertising is big business, and trying to prove how much it is worth to a pro sports team is analogous to astrology. Digital giants have their methods of attribution. I have always looked at these methods with some skepticism. If my business sells advertising, what incentive do I have to tell you it doesn’t work?</p>
<p>Overall, these assets are usually evaluated on some form of exposure equivalency. This impressions-based formula would look something like this:</p>
<p><span class="math display">\[\begin{equation}
\ {Value} = {Exposure} * {Quality} * {Costs}
\end{equation}\]</span></p>
<p>The arbitrary cost I am talking about references some value associated with outreach. How much does it cost to reach a potential customer? I don’t mean to sound cynical, but this number is difficult to estimate.</p>
<div id="external-marketing-assets" class="section level3" number="8.3.1">
<h3>
<span class="header-section-number">8.3.1</span> External marketing assets<a class="anchor" aria-label="anchor" href="#external-marketing-assets"><i class="fas fa-link"></i></a>
</h3>
<p>Marketing assets are incredibly varied. The internet is a marketing platform. Additionally, messaging varies throughout the year. For instance, Brand messaging may predominate during the off-season. However, ticket sales messaging will be the predominant category during the season.</p>
<p>I lump digital marketing into two categories—platform digital and local digital.</p>
<ol style="list-style-type: decimal">
<li>
<em>Platform digital</em> marketing involves the tech giants. They each have sophisticated methods to reach customers and potential customers. Advertising through social media is still new in the scheme of advertising. Increasingly, more money is being spent in these areas. It is easier to attribute sales to your spend using these mediums because tracking customers during the process is easy. However, that is becoming more difficult. You can classify the advertising through these platforms as <em>display</em>, <em>video</em>, <em>Social</em>, or <em>Audio</em>. The major players in this arena include:</li>
</ol>
<ul>
<li>Google Display Network</li>
<li>Facebook</li>
<li>Instagram</li>
<li>Twitter</li>
<li>Amazon</li>
<li>Youtube</li>
<li>TikTok</li>
<li>Spotify</li>
</ul>
<p>Each of these platforms has its attribution methodologies. These methodologies can also vary. If you want to make an effort to attribute sales through these channels, you have to combine their capabilities with old-school tricks. For instance, a special offer may only be advertised through one of these channels. So how can you attribute sales to an outlet such as Facebook? Three main methods are leveraged:</p>
<ul>
<li>First touch/Last touch: If a fan purchases tickets, what is the first or last platform they visited? We’ll attribute the entire purchase to this platform.</li>
<li>Weighted models: These models would attribute some portion of the sale to each advertising touchpoint. Weighted models may also decay over time. For instance, if it has been fourteen days since the touchpoint, we no longer attribute the sale to a portion of the marketing engine.</li>
<li>Algorithmic models: These models are custom-built and might use regression or some other tool to more accurately weight touchpoints.</li>
</ul>
<p>This means the analytics involved here looks more like a flow chart diagram than a math equation. However, this is only sometimes true. In sports, we typically deal with relatively small transactions that occur on a predictable cadence. There are better scenarios for using algorithmic methods. There is an expression that I think of here “Good is the enemy of great.” I wouldn’t overthink this subject.</p>
<ol start="2" style="list-style-type: decimal">
<li><p><em>Local digital</em> marketing refers to leveraging display through local mechanisms. This would include the city or regional newspaper websites. Fandom will decrease the further an individual lives from the local market. Therefore, these channels will typically have a good readership in your local market.</p></li>
<li><p><em>Search engine marketing</em> is a separate category from the display, and it has some issues in the context of sports. We discussed them briefly earlier. With efforts to flatten secondary markets, this form of marketing may be less critical for clubs in the future. If someone is typing “game hen tickets” into a search engine, we know they wanted tickets. Do we care where they buy them? Sometimes. However, this is a losing strategy. You have to depend on the individual clicking an ad for attribution, and you can’t beat the secondary market makers in terms of spend.</p></li>
<li><p><em>Television</em> advertising is still crucial in the marketing budget. However, traditional broadcasts have declined for years. The T.V. and cable industries are in crisis. Younger consumers are altering their consumption habits at alarming rates. Therefore, this channel will continue to wane in importance.</p></li>
<li><p><em>Radio</em>. Buying and selling radio spots also has a multitude of considerations. How is this measured? Third-party researchers pay people to allow them to track consumption habits and then extrapolate. Additionally, terrestrial radio broadcasts have decreased in popularity due to subscription services.</p></li>
<li><p><em>Outdoor Advertising</em>. Out-of-home advertising is also varied. Highway signage is the biggest category in outdoor advertising. There are many local players, but a few huge players also dominate this arena. Prices also vary considerably. This advertisement is inexpensive, widely available, and can be purchased in precise increments.</p></li>
<li><p><em>Print</em>. Traditional print advertising would include taking out advertisements in newspapers or magazines. This channel has dramatically decreased in importance over the years.</p></li>
</ol>
<p>Many of these channels are difficult or impossible to measure. Building formal experiments around how effective print ads aren’t a top priority in our business. How do you build a strategy around your marketing mix? The sales cadence is probably the best place to start. You have to start with what you know. We know when sales typically happen on a game-by-game basis. Understanding the customer journey should be a critical part of your marketing strategy. This will inform your strategy more than anything. You can also dramatically decrease spend in channels that aren’t readily measurable.</p>
<p>There is also a paradox in sports related to marketing. When the team is good, it will appear that your marketing plays a part in the success. This high-on-high strategy works when you use price as a lever. However, how effective is marketing when a team isn’t good? If you spend the same amount in the same places, you expect some level of baseline success. I wonder if this can be validated. From a strategic standpoint, what does this mean? It means you should be skeptical and ruthlessly test and experiment.</p>
</div>
<div id="internal-marketing-assets" class="section level3" number="8.3.2">
<h3>
<span class="header-section-number">8.3.2</span> Internal marketing assets<a class="anchor" aria-label="anchor" href="#internal-marketing-assets"><i class="fas fa-link"></i></a>
</h3>
<p>Internal assets are very similar to external assets. However, there is an added wrinkle. An association with a pro sports team creates added brand equity. This doesn’t happen when you advertise through Facebook. Additionally, there is some tangential association with the other brands advertising with the team. This makes evaluating the value of a piece of signage or a social media post delivered by the team much more difficult.</p>
<p>How would you calculate the value of a piece of signage in the outfield of our ballpark in Nashville? This process would involve a few steps. You would likely need to engage a third party to get information on Television and radio. A few large media research companies specialize in this sort of research. The basic process works like this:</p>
<ol style="list-style-type: decimal">
<li>Calculate the amount of exposure. How many people see the sign through each channel?</li>
<li>Evaluate the quality of that exposure. How often is the asset visible.</li>
<li>Calculate a unit value for the audience through each channel</li>
<li>Build a coefficient into the calculation that takes into account brand association</li>
</ol>
<p>What sorts of internal assets are we discussing? A sports team has a large toolbox in terms of advertising assets. This includes:</p>
<ul>
<li>In-venue signage</li>
<li>Television and radio broadcasts</li>
<li>Category rights for co-branding</li>
<li>Social media posts</li>
<li>Community outreach and foundations</li>
<li>Uniform patches or logos</li>
<li>Venue naming rights</li>
</ul>
<p>Each of these assets varies. For instance, signage is a broad category, with the best inventory being located behind homeplate, in the outfield, and around the marquee. As a result, the costs associated with these assets will vary considerably. Additionally, the value of these assets could be influenced by in-market reference prices and competition.</p>
<p>The best place to begin here is by analyzing the rate card. How much inventory is being used, and how much isn’t being utilized? Are there imbalances? Are there opportunities to create new inventory, such as on the foul poles? Many of your sponsorship deals will be on staggered multi-year terms. Exclusivities are also common and restrict access to specific categories.</p>
<p>Objectively justifying a sponsorship can be difficult. From a buyer’s perspective, reconciling opportunities may take work. While building a decision matrix of options is relatively simple, taking brand considerations into account is needed.</p>
</div>
</div>
<div id="key-concepts-and-chapter-summary-7" class="section level2" number="8.4">
<h2>
<span class="header-section-number">8.4</span> Key concepts and chapter summary<a class="anchor" aria-label="anchor" href="#key-concepts-and-chapter-summary-7"><i class="fas fa-link"></i></a>
</h2>
<p>Promotions are a response to having less demand than supply and can be very difficult to evaluate. We covered a few high-level topics:</p>
<ul>
<li>Evaluating promotion efficacy</li>
<li>building a model using the TidyModels framework</li>
<li>Putting promotions on a schedule</li>
<li>Valuing internal and external marketing products</li>
</ul>
<p>We learned that some promotions have an impact, and some appear not to have an effect. This can vary by market, but some promotions work better. Marginal costs associated with a promotion should always be considered. There are also more qualitative considerations such as when the last promotion occurred, lead time, and sponsorship considerations.</p>
<p>The tidyModels framework is an easy way to take care of the mechanics of model construction. It handles various machine learning tasks and is a flexible method to try multiple techniques.</p>
<p>Placing promotions on a schedule is related to pricing. There are complex interactions between price and demand. Sports is unique because the product has multiple qualitative considerations, such as win-loss record, playoff chances, seasonality, and promotional items.</p>
<p>Evaluating the return on marketing spend takes a lot of work. Many assets defy valuation. Pricing internal assets can be challenging but typically has three considerations: viewership, engagement quality, and brand association.</p>

</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="chapter7.html"><span class="header-section-number">7</span> Lead Scoring</a></div>
<div class="next"><a href="chapter9.html"><span class="header-section-number">9</span> Research</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#chapter8"><span class="header-section-number">8</span> Promotions</a></li>
<li>
<a class="nav-link" href="#measuring-the-impact-of-promotions"><span class="header-section-number">8.1</span> Measuring the impact of promotions</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#regressing-on-our-data"><span class="header-section-number">8.1.1</span> Regressing on our data</a></li></ul>
</li>
<li><a class="nav-link" href="#how-to-place-promotions-on-a-schedule"><span class="header-section-number">8.2</span> How to place promotions on a schedule</a></li>
<li>
<a class="nav-link" href="#evaluating-external-and-internal-marketing-assets"><span class="header-section-number">8.3</span> Evaluating external and internal marketing assets</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#external-marketing-assets"><span class="header-section-number">8.3.1</span> External marketing assets</a></li>
<li><a class="nav-link" href="#internal-marketing-assets"><span class="header-section-number">8.3.2</span> Internal marketing assets</a></li>
</ul>
</li>
<li><a class="nav-link" href="#key-concepts-and-chapter-summary-7"><span class="header-section-number">8.4</span> Key concepts and chapter summary</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/Justin-Watkins/Justin-Watkins.github.io/blob/main/08-Promotions.md">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/Justin-Watkins/Justin-Watkins.github.io/edit/main/08-Promotions.md">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Fundamentals of Sports Business Analytics and Strategy</strong>" was written by Justin Watkins. It was last built on 2023-04-02.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
